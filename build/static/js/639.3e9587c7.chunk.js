"use strict";(self.webpackChunkweather_app=self.webpackChunkweather_app||[]).push([[639],{639:(e,r,s)=>{s.r(r),s.d(r,{default:()=>h});var a=s(43),t=s(258),l=s(356),n=s(462),c=s(282),d=s(835),i=s(475),u=s(94),o=s(117),p=s(579);function h(){const{currentUser:e,updateUserEmail:r,updateUserPassword:s}=(0,u.h)(),[h,m]=(0,a.useState)(""),[x,f]=(0,a.useState)(!1),j=(0,a.useRef)(),w=(0,a.useRef)(),A=(0,a.useRef)(),v=(0,d.Zp)(),{t:b,i18n:y}=(0,o.Bd)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(t.A,{children:(0,p.jsxs)(t.A.Body,{children:[(0,p.jsx)("h2",{className:"text-center mb-4",children:b("update profile")}),h&&(0,p.jsx)(l.A,{className:"text-center",variant:"danger",children:"* "+h}),(0,p.jsxs)(n.A,{onSubmit:async a=>{if(a.preventDefault(),w.current.value!==A.current.value)return m("Passwords do not match ");const t=[];f(!0),m(""),j.current.value!=e.email&&t.push(r(j.current.value)),w.current.value&&t.push(s(w.current.value)),Promise.all(t).then((()=>{v("/")})).catch((e=>{console.log(e),m("Failed to update account"+e)})).finally((()=>{f(!1)}))},children:[(0,p.jsxs)(n.A.Group,{children:[(0,p.jsx)(n.A.Label,{htmlFor:"email",children:b("email")}),(0,p.jsx)(n.A.Control,{type:"email",id:"email",ref:j,defaultValue:null===e||void 0===e?void 0:e.email,required:!0})]}),(0,p.jsxs)(n.A.Group,{children:[(0,p.jsx)(n.A.Label,{htmlFor:"password",children:b("password")}),(0,p.jsx)(n.A.Control,{type:"password",id:"password",ref:w})]}),(0,p.jsxs)(n.A.Group,{children:[(0,p.jsx)(n.A.Label,{htmlFor:"password-confirm",children:b("password confirm")}),(0,p.jsx)(n.A.Control,{type:"password",id:"password-confirm",ref:A})]}),(0,p.jsx)(c.A,{className:"w-100 mt-3",variant:"primary",type:"submit",disabled:x,children:b("update")})]})]})}),(0,p.jsx)("div",{className:"w-100 text-center mt-2",children:(0,p.jsx)(i.N_,{to:"/",children:b("cancel")})})]})}}}]);
//# sourceMappingURL=639.3e9587c7.chunk.js.map